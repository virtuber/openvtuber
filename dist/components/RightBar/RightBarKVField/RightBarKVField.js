import o,{useState as l,useEffect as y,useRef as L}from"../../../../_snowpack/pkg/react.js";import"./RightBarKVField.css.proxy.js";var M=p=>{var{label:w,type:r}=p,[s,n]=l(""),[a,t]=l(""),[u,v]=l(!1),h=e=>{e.key==="Enter"&&(n(a),document.activeElement.blur()),e.key==="Escape"&&(t(s),document.activeElement.blur())},b=e=>{t(e.target.value)},E=()=>{n(a)},i=L(null),d=e=>{r==="number"&&e.button===0&&v(!0)},m=e=>{r==="number"&&e.button===0&&u&&v(!1)},c=e=>{if(r==="number"&&u){var g=1,k=e.movementX,f=Math.round(k*g);t((parseInt(a)+f).toString()),n((parseInt(s)+f).toString())}};return y(()=>{var e=i.current;return e==null||e.addEventListener("mousedown",d),window.addEventListener("mouseup",m),window.addEventListener("mousemove",c),()=>{e==null||e.removeEventListener("mousedown",d),window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",c)}}),o.createElement("label",{className:"rightbar-kv-field ".concat(r==="number"?"rightbar-kv-field--number":""),ref:i},o.createElement("span",{className:"rightbar-kv-field__key"},w),o.createElement("input",{className:"rightbar-kv-field__value",spellCheck:"false",autoComplete:"new-password",value:a,onChange:b,onKeyDown:h,onBlur:E,type:r}))};export default M;
