function c(n,i,e,a,s,u,r){try{var o=n[u](r),t=o.value}catch(f){e(f);return}o.done?i(t):Promise.resolve(t).then(a,s)}function m(n){return function(){var i=this,e=arguments;return new Promise(function(a,s){var u=n.apply(i,e);function r(t){c(u,a,s,r,o,"next",t)}function o(t){c(u,a,s,r,o,"throw",t)}r(void 0)})}}import{useEffect as l,useRef as p,useState as d}from"../../_snowpack/pkg/react.js";import{useThree as v}from"../../_snowpack/pkg/react-three-fiber.js";import h from"../../_snowpack/pkg/@pixiv/three-vrm.js";import{GLTFLoader as g}from"../../_snowpack/pkg/three/examples/jsm/loaders/GLTFLoader.js";var k=()=>{var{camera:n}=v(),{current:i}=p(new g),[e,a]=d(),s=u=>{i.load(u,function(){var r=m(function*(o){var t=yield h.VRM.from(o);t.scene.rotation.y=Math.PI,a(t)});return function(o){return r.apply(this,arguments)}}(),r=>console.log("Loading model...",100*(r.loaded/r.total),"%"),r=>console.error(r))};return l(()=>{!e||!e.lookAt||(e.lookAt.target=n)},[n,e]),{vrm:e,loadVrm:s}};export default k;
