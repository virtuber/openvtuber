import{c as l,g as h}from"./common/_commonjsHelpers-8c19dec8.js";import{r as b}from"./common/index-57a74e37.js";var z=l(function(e){function r(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0}),N=h(z),F=l(function(e){function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0}),R=h(F),H=l(function(e){function r(n,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function t(n,o,s){return o&&r(n.prototype,o),s&&r(n,s),n}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}),B=h(H);function A(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?A(Object(t),!0).forEach(function(n){N(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var _={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},M,K=b.createContext();function W(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_=T(T({},_),e)}function $(){return _}var V=function(){function e(){R(this,e),this.usedNamespaces={}}return B(e,[{key:"addUsedNamespaces",value:function(t){var n=this;t.forEach(function(o){n.usedNamespaces[o]||(n.usedNamespaces[o]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Y(e){M=e}function q(){return M}var G={type:"3rdParty",init:function(r){W(r.options.react),Y(r)}};function J(){if(console&&console.warn){for(var e,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]="react-i18next:: ".concat(t[0])),(e=console).warn.apply(e,t)}}var D={};function j(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];typeof r[0]=="string"&&D[r[0]]||(typeof r[0]=="string"&&(D[r[0]]=new Date),J.apply(void 0,r))}function E(e,r,t){e.loadNamespaces(r,function(){if(e.isInitialized)t();else{var n=function o(){setTimeout(function(){e.off("initialized",o)},0),t()};e.on("initialized",n)}})}function Q(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!r.languages||!r.languages.length)return j("i18n.languages were undefined or empty",r.languages),!0;var n=r.languages[0],o=r.options?r.options.fallbackLng:!1,s=r.languages[r.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var a=function(u,f){var d=r.services.backendConnector.state["".concat(u,"|").concat(f)];return d===-1||d===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e)?!1:!!(r.hasResourceBundle(n,e)||!r.services.backendConnector.backend||a(n,e)&&(!o||a(s,e)))}var X=l(function(e){function r(t){if(Array.isArray(t))return t}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0}),Z=l(function(e){function r(t,n){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var o=[],s=!0,a=!1,g=void 0;try{for(var u=t[Symbol.iterator](),f;!(s=(f=u.next()).done)&&(o.push(f.value),!(n&&o.length===n));s=!0);}catch(d){a=!0,g=d}finally{try{!s&&u.return!=null&&u.return()}finally{if(a)throw g}}return o}}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0}),L=l(function(e){function r(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0}),ee=l(function(e){function r(t,n){if(!!t){if(typeof t=="string")return L(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return L(t,n)}}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0}),te=l(function(e){function r(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0}),re=l(function(e){function r(t,n){return X(t)||Z(t,n)||ee(t,n)||te()}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0}),ne=h(re);function k(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?k(Object(t),!0).forEach(function(n){N(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ae(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.i18n,n=b.useContext(K)||{},o=n.i18n,s=n.defaultNS,a=t||o||q();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new V),!a){j("You will need to pass in an i18next instance by using initReactI18next");var g=function(p){return Array.isArray(p)?p[p.length-1]:p},u=[g,{},!1];return u.t=g,u.i18n={},u.ready=!1,u}a.options.react&&a.options.react.wait!==void 0&&j("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var f=S(S(S({},$()),a.options.react),r),d=f.useSuspense,i=e||s||a.options&&a.options.defaultNS;i=typeof i=="string"?[i]:i||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(i);var v=(a.isInitialized||a.initializedStoreOnce)&&i.every(function(c){return Q(c,a,f)});function O(){return{t:a.getFixedT(null,f.nsMode==="fallback"?i:i[0])}}var U=b.useState(O()),P=ne(U,2),C=P[0],I=P[1],m=b.useRef(!0);b.useEffect(function(){var c=f.bindI18n,p=f.bindI18nStore;m.current=!0,!v&&!d&&E(a,i,function(){m.current&&I(O())});function x(){m.current&&I(O())}return c&&a&&a.on(c,x),p&&a&&a.store.on(p,x),function(){m.current=!1,c&&a&&c.split(" ").forEach(function(w){return a.off(w,x)}),p&&a&&p.split(" ").forEach(function(w){return a.store.off(w,x)})}},[i.join()]);var y=[C.t,a,v];if(y.t=C.t,y.i18n=a,y.ready=v,v||!v&&!d)return y;throw new Promise(function(c){E(a,i,function(){c()})})}export{G as initReactI18next,ae as useTranslation};
